@model BudjettI.Models.Login

@{
    ViewBag.Title = "Home Page";
}

<link href="~/Content/Tyylit.css" rel="stylesheet" />


@*JQuery, joka suoritetaan aina, kun sivu latautuu*@
@section scripts {
    <script type="text/javascript">

        $(window).on('load', function ()
        {
            if (@ViewBag.LoginError == 1)
        {
        $('#LoginRuutu').modal('show');

        }
        });
    </script>
}


<main>

    @*Näyttää kun on kirjaunut sivustolle*@

    @if (Session["UserName"] == null)
    {
        <div>
            <p> Kirjaudu sisään, niin näet enemmän</p>
        </div>
    }

    @*Ole tarkka { rajan suhteen mitä näkyy vasta sisään kirjautuessa }*@

    @if (Session["UserName"] != null)
    {

        <center>
            <section class="row" aria-labelledby="aspnetTitle">

                <h1 id="title">BUDJETTI 2024</h1>
                <p class="lead">Tämä budjetti sovellus yksinkertaistaa sinun taloudellista osaamistasi ja saa aikaan taloudellisen mielenrauhan. Unohda tylsät excel taulukot! Helppo ja yksinkertainen käyttää. Tällä sovelluksella pystyt suunnittelemaan tulevien kuukausien budjettia ja tarkkailemaan myös omaa rahan käyttöä.  </p>
            </section>
        </center>

        <div class="row">
            <section class="col-lg-6" aria-labelledby="gettingStartedTitle">
                <h2 id="gettingStartedTitle">Aloita sovelluksen käyttö</h2>
                <p>
                    Kirjaudu sovellukseen yläpalkissa olevasta kirjautumisikkunasta.
                </p>

            </section>
            <section class="col-lg-6" aria-labelledby="librariesTitle">
                <h2 id="librariesTitle">Inspiroidu</h2>
                <p>Kehitä taloustietämystäsi näillä seuraavilla inspiroivilla ja meidän suosittelemilla medialinkeillä. Näistä seuraavista linkeistä saat selkokielellä ja hauskalla tavalla tehtyä tietoa talousasioista.</p>
                <p><a class="btn btn-outline-warning" href="https://www.mimmitsijoittaa.fi/">Klikkaa mua &raquo;</a></p>
                <p><a class="btn btn-outline-warning" href="https://www.youtube.com/playlist?list=PL7A7xDUTCulAvDgZ9NugYwvFZuYWjBZoX">Klikkaa mua &raquo;</a></p>


            </section>
        </div>

    }

    </main>
@{ 

}




 <button type="button" width="60" height="32" class="btn btn-warning" data-bs-toggle="modal" data-bs-target="#LoginRuutu"><img src="~/Icons/bookmarks-fill.svg" /> Kirjaudu</button>

    <div class="modal" id="LoginRuutu">
        <div class="modal-dialog" role="document">
            <div class="modal-content">

                <center>

                    <div class="modal-header">



                        <h1 class="modal-title">Oma Budjetti</h1>
                    </div>

                    <div class="modal-body">
                        @using (Html.BeginForm())
                        {
                            @Html.AntiForgeryToken()
                            <div class="form-horizontal">
                                <h4>Kirjautuminen</h4>
                                <hr />
                                @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                                @Html.HiddenFor(model => model.LoginID)

                                <div class="form-group">
                                    @Html.LabelFor(model => model.UserName, htmlAttributes: new { @class = "control-label col-md-2" })
                                    <div class="col-md-10">
                                        @Html.EditorFor(model => model.UserName, new { htmlAttributes = new { @class = "form-control" } })
                                        @Html.ValidationMessageFor(model => model.UserName, "", new { @class = "text-danger" })
                                    </div>
                                </div>

                                <div class="form-group">
                                    @Html.LabelFor(model => model.PassWord, htmlAttributes: new { @class = "control-label col-md-2" })
                                    <div class="col-md-10">
                                        @Html.EditorFor(model => model.PassWord, new { htmlAttributes = new { @class = "form-control" } })
                                        @Html.ValidationMessageFor(model => model.PassWord, "", new { @class = "text-danger" })
                                    </div>
                                </div>


                              @*//Modal ikkunan näkymässä olevat näkymät, jotka koetaan tarpeettomana*@

                                @*<div class="form-group">
                                    @Html.LabelFor(model => model.LoginErrorMessage, htmlAttributes: new { @class = "control-label col-md-2" })
                                    <div class="col-md-10">
                                        @Html.EditorFor(model => model.LoginErrorMessage, new { htmlAttributes = new { @class = "form-control" } })
                                        @Html.ValidationMessageFor(model => model.LoginErrorMessage, "", new { @class = "text-danger" })
                                    </div>
                                </div>

                                <div class="form-group">
                                    @Html.LabelFor(model => model.RegisterationDate, htmlAttributes: new { @class = "control-label col-md-2" })
                                    <div class="col-md-10">
                                        @Html.EditorFor(model => model.RegisterationDate, new { htmlAttributes = new { @class = "form-control" } })
                                        @Html.ValidationMessageFor(model => model.RegisterationDate, "", new { @class = "text-danger" })
                                    </div>
                                </div>*@

                                <div class="form-group">
                                    <div class="col-md-offset-2 col-md-10">
                                        <input type="submit" value="Tallenna" class="btn btn-default" />
                                    </div>
                                </div>
                            </div>
                        }

                        <div>
                            @Html.ActionLink("Palaa alkuun", "Index")
                        </div>


                        @*//Johannan lähettämä kirjautumisskripti alla kommenteissa*@

                        @*@using (Html.BeginForm("Authorize", "Home", FormMethod.Post, new { id = "loginForm" }))  //2.pv
        {
            @Html.AntiForgeryToken()
        <div class="form-horizontal">
            <h4>Ryhdytään budjetoimaan</h4>
            <hr />
            @Html.ValidationSummary(true, "", new { @class = "text-danger" })
            @Html.HiddenFor(model => model.LoginID)

            <div class="form-group">
                @Html.LabelFor(model => model.UserName, "Sahkoposti", htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-10">
                    @Html.EditorFor(model => model.UserName, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.UserName, "", new { @class = "text-danger" })
                </div>
            </div>

            <div class="form-group">
                @Html.LabelFor(model => model.PassWord, "Salasana", htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-10">
                    @Html.EditorFor(model => model.PassWord, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.PassWord, "", new { @class = "text-danger" })
                </div>
            </div>

            <label class="text-danger">
                @Html.DisplayFor(model => model.LoginErrorMessage)
            </label>
            <hr />

            <button type="button" class="btn btn-outline-success" data-dismiss="modal">Kirjaudu</button>
            <button type="button" class="btn btn-outline-danger" data-dismiss="modal">Peruuta</button>
        </div>*@
                        

                    </div>
                </center>
            </div>


            <div class="modal-footer">
                <div>
                    @*Formin lähettävä button, joka ei kuitenkaan ole formin sisällä, mutta viittaa formin ID:hen*@
                    <button type="submit" class="btn btn-primary" form="loginForm"><i class="fas fa-check"></i></button>
                    <!--Kontrollerin kutsu Url.Action -komennolla, jotta peruuttaminen johtaa alkutilanteeseen-->
                    <a href="@Url.Action("Index", "Home")" class="btn btn-primary" data-bs-dismiss="modal"><i class="fas fa-times"></i></a>
                </div>
            </div>
        </div>
    </div>
    





